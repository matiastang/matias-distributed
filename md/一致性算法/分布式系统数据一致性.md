<!--
 * @Author: tangdaoyong
 * @Date: 2021-02-01 10:17:27
 * @LastEditors: tangdaoyong
 * @LastEditTime: 2021-02-01 11:56:34
 * @Description: 分布式系统数据一致性
-->
# 分布式系统数据一致性

## 强一致

当更新操作完成之后，任何多个后续进程或者线程的访问都会返回最新的更新过的值。这种是对用户最友好的，就是用户上一次写什么，下一次就保证能读到什么。根据 CAP 理论，这种实现需要牺牲可用性。

## 弱一致性

系统并不保证后续进程或者线程的访问都会返回最新的更新过的值。系统在数据写入成功之后，不承诺立即可以读到最新写入的值，也不会具体的承诺多久之后可以读到。

## 最终一致性

弱一致性的特定形式。系统保证在没有后续更新的前提下，系统最终返回上一次更新操作的值。在没有故障发生的前提下，不一致窗口的时间主要受通信延迟，系统负载和复制副本的个数影响。DNS 是一个典型的最终一致性系统。

在分布式系统中我们一般用Paxos/Raft这样的分布式一致性的算法。

## 一致性算法

[学习分布式一致性协议：自己实现一个Raft算法](https://zhuanlan.zhihu.com/p/152236946)
[分布式一致性算法](https://www.jianshu.com/p/40dbe406d2f4)
[一致性算法raft和paxos](https://zhuanlan.zhihu.com/p/60175456)